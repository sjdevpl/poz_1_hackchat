!function(e,r){"use strict";!function(e,r){if("object"==typeof exports&&"object"==typeof module)module.exports=r();else{var n=r();for(var t in n)("object"==typeof exports?exports:e)[t]=n[t]}}(r,function(){return function(e){var r={};function n(t){if(r[t])return r[t].exports;var o=r[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=r,n.d=function(e,r,t){n.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,r){if(1&r&&(e=n(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(n.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)n.d(t,o,function(r){return e[r]}.bind(null,o));return t},n.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(r,"a",r),r},n.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},n.p="https://assets.allegrostatic.com/opbox-advertisement-box/",n(n.s="vkve")}({vkve:function(e,n,t){r.oba={};
/**
 * @preserve A JavaScript implementation of the SHA family of hashes, as
 * defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding
 * HMAC implementation as defined in FIPS PUB 198a
 *
 * Copyright Brian Turek 2008-2017
 * Distributed under the BSD License
 * See http://caligatio.github.com/jsSHA/ for more information
 *
 * Several functions taken from Paul Johnston
 */
var o,i,a=15;!function(e){var r,n,t,o,i=4294967296;function h(e,r){this.highOrder=e,this.lowOrder=r}function s(e,r,n,t){var o,i,a,h="",s=r/8;for(a=-1===n?3:0,o=0;o<s;o+=1)i=e[o>>>2]>>>8*(a+n*(o%4)),h+="0123456789abcdef".charAt(i>>>4&15)+"0123456789abcdef".charAt(15&i);return t.outputUpper?h.toUpperCase():h}function u(e,r,n,t){var o,i,a,h,s,u,d="",w=r/8;for(u=-1===n?3:0,o=0;o<w;o+=3)for(h=o+1<w?e[o+1>>>2]:0,s=o+2<w?e[o+2>>>2]:0,a=(e[o>>>2]>>>8*(u+n*(o%4))&255)<<16|(h>>>8*(u+n*((o+1)%4))&255)<<8|s>>>8*(u+n*((o+2)%4))&255,i=0;i<4;i+=1)d+=8*o+6*i<=r?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a>>>6*(3-i)&63):t.b64Pad;return d}function d(e,r,n){var t,o,i,a="",h=r/8;for(i=-1===n?3:0,t=0;t<h;t+=1)o=e[t>>>2]>>>8*(i+n*(t%4))&255,a+=String.fromCharCode(o);return a}function w(e,r,n){var t,o,i,a=r/8,h=new ArrayBuffer(a);for(i=new Uint8Array(h),o=-1===n?3:0,t=0;t<a;t+=1)i[t]=e[t>>>2]>>>8*(o+n*(t%4))&255;return h}function f(e){var r,n={outputUpper:!1,b64Pad:"=",shakeLen:-1};if(r=e||{},n.outputUpper=r.outputUpper||!1,!0===r.hasOwnProperty("b64Pad")&&(n.b64Pad=r.b64Pad),!0===r.hasOwnProperty("shakeLen")&&0!=(8&a)){if(r.shakeLen%8!=0)throw new Error("shakeLen must be a multiple of 8");n.shakeLen=r.shakeLen}if("boolean"!=typeof n.outputUpper)throw new Error("Invalid outputUpper formatting option");if("string"!=typeof n.b64Pad)throw new Error("Invalid b64Pad formatting option");return n}function l(e,r,n){var t;switch(r){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw new Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(e){case"HEX":t=function(e,r,t){return function(e,r,n,t){var o,i,a,h,s,u,d,w=e.length;if(0!=w%2)throw new Error("String of HEX type must be in byte increments");for(o=r||[0],u=(n=n||0)>>>3,d=-1===t?3:0,i=0;i<w;i+=2){if(a=parseInt(e.substr(i,2),16),isNaN(a))throw new Error("String of HEX type contains invalid characters");for(h=(s=(i>>>1)+u)>>>2;o.length<=h;)o.push(0);o[h]|=a<<8*(d+t*(s%4))}return{value:o,binLen:4*w+n}}(e,r,t,n)};break;case"TEXT":t=function(e,t,o){return function(e,r,n,t,o){var i,a,h,s,u,d,w,f,l,c,O=0;if(i=n||[0],d=(t=t||0)>>>3,"UTF8"===r)for(l=-1===o?3:0,s=0;s<e.length;s+=1)for(h=[],128>(a=e.charCodeAt(s))?h.push(a):2048>a?(h.push(192|a>>>6),h.push(128|63&a)):55296>a||57344<=a?h.push(224|a>>>12,128|a>>>6&63,128|63&a):(s+=1,a=65536+((1023&a)<<10|1023&e.charCodeAt(s)),h.push(240|a>>>18,128|a>>>12&63,128|a>>>6&63,128|63&a)),u=0;u<h.length;u+=1){for(w=(f=O+d)>>>2;i.length<=w;)i.push(0);i[w]|=h[u]<<8*(l+o*(f%4)),O+=1}else if("UTF16BE"===r||"UTF16LE"===r)for(l=-1===o?2:0,c="UTF16LE"===r&&1!==o||"UTF16LE"!==r&&1===o,s=0;s<e.length;s+=1){for(a=e.charCodeAt(s),!0===c&&(a=(u=255&a)<<8|a>>>8),w=(f=O+d)>>>2;i.length<=w;)i.push(0);i[w]|=a<<8*(l+o*(f%4)),O+=2}return{value:i,binLen:8*O+t}}(e,r,t,o,n)};break;case"B64":t=function(e,r,t){return function(e,r,n,t){var o,i,a,h,s,u,d,w,f,l,c=0;if(-1===e.search(/^[a-zA-Z0-9=+\/]+$/))throw new Error("Invalid character in base-64 string");if(u=e.indexOf("="),e=e.replace(/\=/g,""),-1!==u&&u<e.length)throw new Error("Invalid '=' found in base-64 string");for(o=r||[0],d=(n=n||0)>>>3,l=-1===t?3:0,i=0;i<e.length;i+=4){for(s=e.substr(i,4),h=0,a=0;a<s.length;a+=1)h|="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(s[a])<<18-6*a;for(a=0;a<s.length-1;a+=1){for(w=(f=c+d)>>>2;o.length<=w;)o.push(0);o[w]|=(h>>>16-8*a&255)<<8*(l+t*(f%4)),c+=1}}return{value:o,binLen:8*c+n}}(e,r,t,n)};break;case"BYTES":t=function(e,r,t){return function(e,r,n,t){var o,i,a,h,s,u,d;for(o=r||[0],h=(n=n||0)>>>3,d=-1===t?3:0,a=0;a<e.length;a+=1)i=e.charCodeAt(a),s=(u=a+h)>>>2,o.length<=s&&o.push(0),o[s]|=i<<8*(d+t*(u%4));return{value:o,binLen:8*e.length+n}}(e,r,t,n)};break;case"ARRAYBUFFER":try{t=new ArrayBuffer(0)}catch(e){throw new Error("ARRAYBUFFER not supported by this environment")}t=function(e,r,t){return function(e,r,n,t){var o,i,a,h,s,u,d;for(o=r||[0],a=(n=n||0)>>>3,u=-1===t?3:0,d=new Uint8Array(e),i=0;i<e.byteLength;i+=1)h=(s=i+a)>>>2,o.length<=h&&o.push(0),o[h]|=d[i]<<8*(u+t*(s%4));return{value:o,binLen:8*e.byteLength+n}}(e,r,t,n)};break;default:throw new Error("format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER")}return t}function c(e,r){return e<<r|e>>>32-r}function O(e,r){return r>32?(r-=32,new h(e.lowOrder<<r|e.highOrder>>>32-r,e.highOrder<<r|e.lowOrder>>>32-r)):0!==r?new h(e.highOrder<<r|e.lowOrder>>>32-r,e.lowOrder<<r|e.highOrder>>>32-r):e}function g(e,r){return e>>>r|e<<32-r}function p(e,r){var n=new h(e.highOrder,e.lowOrder);return 32>=r?new h(n.highOrder>>>r|n.lowOrder<<32-r&4294967295,n.lowOrder>>>r|n.highOrder<<32-r&4294967295):new h(n.lowOrder>>>r-32|n.highOrder<<64-r&4294967295,n.highOrder>>>r-32|n.lowOrder<<64-r&4294967295)}function S(e,r){return e>>>r}function v(e,r){return 32>=r?new h(e.highOrder>>>r,e.lowOrder>>>r|e.highOrder<<32-r&4294967295):new h(0,e.highOrder>>>r-32)}function A(e,r,n){return e^r^n}function _(e,r,n){return e&r^~e&n}function H(e,r,n){return new h(e.highOrder&r.highOrder^~e.highOrder&n.highOrder,e.lowOrder&r.lowOrder^~e.lowOrder&n.lowOrder)}function b(e,r,n){return e&r^e&n^r&n}function E(e,r,n){return new h(e.highOrder&r.highOrder^e.highOrder&n.highOrder^r.highOrder&n.highOrder,e.lowOrder&r.lowOrder^e.lowOrder&n.lowOrder^r.lowOrder&n.lowOrder)}function m(e){return g(e,2)^g(e,13)^g(e,22)}function y(e){var r=p(e,28),n=p(e,34),t=p(e,39);return new h(r.highOrder^n.highOrder^t.highOrder,r.lowOrder^n.lowOrder^t.lowOrder)}function U(e){return g(e,6)^g(e,11)^g(e,25)}function k(e){var r=p(e,14),n=p(e,18),t=p(e,41);return new h(r.highOrder^n.highOrder^t.highOrder,r.lowOrder^n.lowOrder^t.lowOrder)}function R(e){return g(e,7)^g(e,18)^S(e,3)}function T(e){var r=p(e,1),n=p(e,8),t=v(e,7);return new h(r.highOrder^n.highOrder^t.highOrder,r.lowOrder^n.lowOrder^t.lowOrder)}function x(e){return g(e,17)^g(e,19)^S(e,10)}function C(e){var r=p(e,19),n=p(e,61),t=v(e,6);return new h(r.highOrder^n.highOrder^t.highOrder,r.lowOrder^n.lowOrder^t.lowOrder)}function F(e,r){var n=(65535&e)+(65535&r);return(65535&(e>>>16)+(r>>>16)+(n>>>16))<<16|65535&n}function B(e,r,n,t){var o=(65535&e)+(65535&r)+(65535&n)+(65535&t);return(65535&(e>>>16)+(r>>>16)+(n>>>16)+(t>>>16)+(o>>>16))<<16|65535&o}function N(e,r,n,t,o){var i=(65535&e)+(65535&r)+(65535&n)+(65535&t)+(65535&o);return(65535&(e>>>16)+(r>>>16)+(n>>>16)+(t>>>16)+(o>>>16)+(i>>>16))<<16|65535&i}function L(e,r){var n,t,o;return n=(65535&e.lowOrder)+(65535&r.lowOrder),o=(65535&(t=(e.lowOrder>>>16)+(r.lowOrder>>>16)+(n>>>16)))<<16|65535&n,n=(65535&e.highOrder)+(65535&r.highOrder)+(t>>>16),new h((65535&(t=(e.highOrder>>>16)+(r.highOrder>>>16)+(n>>>16)))<<16|65535&n,o)}function j(e,r,n,t){var o,i,a;return o=(65535&e.lowOrder)+(65535&r.lowOrder)+(65535&n.lowOrder)+(65535&t.lowOrder),a=(65535&(i=(e.lowOrder>>>16)+(r.lowOrder>>>16)+(n.lowOrder>>>16)+(t.lowOrder>>>16)+(o>>>16)))<<16|65535&o,o=(65535&e.highOrder)+(65535&r.highOrder)+(65535&n.highOrder)+(65535&t.highOrder)+(i>>>16),new h((65535&(i=(e.highOrder>>>16)+(r.highOrder>>>16)+(n.highOrder>>>16)+(t.highOrder>>>16)+(o>>>16)))<<16|65535&o,a)}function I(e,r,n,t,o){var i,a,s;return i=(65535&e.lowOrder)+(65535&r.lowOrder)+(65535&n.lowOrder)+(65535&t.lowOrder)+(65535&o.lowOrder),s=(65535&(a=(e.lowOrder>>>16)+(r.lowOrder>>>16)+(n.lowOrder>>>16)+(t.lowOrder>>>16)+(o.lowOrder>>>16)+(i>>>16)))<<16|65535&i,i=(65535&e.highOrder)+(65535&r.highOrder)+(65535&n.highOrder)+(65535&t.highOrder)+(65535&o.highOrder)+(a>>>16),new h((65535&(a=(e.highOrder>>>16)+(r.highOrder>>>16)+(n.highOrder>>>16)+(t.highOrder>>>16)+(o.highOrder>>>16)+(i>>>16)))<<16|65535&i,s)}function P(e,r){return new h(e.highOrder^r.highOrder,e.lowOrder^r.lowOrder)}function X(e){var r,n,t,o=[];if("SHA-1"===e&&0!=(1&a))o=[1732584193,4023233417,2562383102,271733878,3285377520];else if(0===e.lastIndexOf("SHA-",0)&&0!=(6&a))switch(r=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],n=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],e){case"SHA-224":o=r;break;case"SHA-256":o=n;break;case"SHA-384":o=[new h(3418070365,r[0]),new h(1654270250,r[1]),new h(2438529370,r[2]),new h(355462360,r[3]),new h(1731405415,r[4]),new h(41048885895,r[5]),new h(3675008525,r[6]),new h(1203062813,r[7])];break;case"SHA-512":o=[new h(n[0],4089235720),new h(n[1],2227873595),new h(n[2],4271175723),new h(n[3],1595750129),new h(n[4],2917565137),new h(n[5],725511199),new h(n[6],4215389547),new h(n[7],327033209)];break;default:throw new Error("Unknown SHA variant")}else{if(0!==e.lastIndexOf("SHA3-",0)&&0!==e.lastIndexOf("SHAKE",0)||0==(8&a))throw new Error("No SHA variants supported");for(t=0;t<5;t+=1)o[t]=[new h(0,0),new h(0,0),new h(0,0),new h(0,0),new h(0,0)]}return o}function M(e,r){var n,t,o,i,a,h,s,u=[],d=_,w=A,f=b,l=c,O=F,g=N;for(n=r[0],t=r[1],o=r[2],i=r[3],a=r[4],s=0;s<80;s+=1)u[s]=s<16?e[s]:l(u[s-3]^u[s-8]^u[s-14]^u[s-16],1),h=s<20?g(l(n,5),d(t,o,i),a,1518500249,u[s]):s<40?g(l(n,5),w(t,o,i),a,1859775393,u[s]):s<60?g(l(n,5),f(t,o,i),a,2400959708,u[s]):g(l(n,5),w(t,o,i),a,3395469782,u[s]),a=i,i=o,o=l(t,30),t=n,n=h;return r[0]=O(n,r[0]),r[1]=O(t,r[1]),r[2]=O(o,r[2]),r[3]=O(i,r[3]),r[4]=O(a,r[4]),r}function K(e,r,n,t,o){var a,h,s,u;for(s=15+(r+65>>>9<<4);e.length<=s;)e.push(0);for(e[r>>>5]|=128<<24-r%32,u=r+n,e[s]=4294967295&u,e[s-1]=u/i|0,h=e.length,a=0;a<h;a+=16)t=M(e.slice(a,a+16),t);return t}function Y(e,t,o){var i,s,u,d,w,f,l,c,O,g,p,S,v,A,P,X,M,K,Y,q,D,J,z,W,G,Z,Q,V=[];if("SHA-224"!==o&&"SHA-256"!==o||0==(2&a)){if("SHA-384"!==o&&"SHA-512"!==o||0==(4&a))throw new Error("Unexpected error in SHA-2 implementation");p=80,v=2,z=h,A=L,P=j,X=I,M=T,K=C,Y=y,q=k,J=E,D=H,Q=n}else p=64,v=1,z=Number,A=F,P=B,X=N,M=R,K=x,Y=m,q=U,J=b,D=_,Q=r;for(i=t[0],s=t[1],u=t[2],d=t[3],w=t[4],f=t[5],l=t[6],c=t[7],S=0;S<p;S+=1)S<16?(Z=S*v,W=e.length<=Z?0:e[Z],G=e.length<=Z+1?0:e[Z+1],V[S]=new z(W,G)):V[S]=P(K(V[S-2]),V[S-7],M(V[S-15]),V[S-16]),O=X(c,q(w),D(w,f,l),Q[S],V[S]),g=A(Y(i),J(i,s,u)),c=l,l=f,f=w,w=A(d,O),d=u,u=s,s=i,i=A(O,g);return t[0]=A(i,t[0]),t[1]=A(s,t[1]),t[2]=A(u,t[2]),t[3]=A(d,t[3]),t[4]=A(w,t[4]),t[5]=A(f,t[5]),t[6]=A(l,t[6]),t[7]=A(c,t[7]),t}function q(e,r){var n,i,a,s,u,d,w,f,l,c=[],g=[];if(null!==e)for(i=0;i<e.length;i+=2)r[(i>>>1)%5][(i>>>1)/5|0]=P(r[(i>>>1)%5][(i>>>1)/5|0],new h(e[i+1],e[i]));for(n=0;n<24;n+=1){for(s=X("SHA3-"),i=0;i<5;i+=1)c[i]=(u=r[i][0],d=r[i][1],w=r[i][2],f=r[i][3],l=r[i][4],new h(u.highOrder^d.highOrder^w.highOrder^f.highOrder^l.highOrder,u.lowOrder^d.lowOrder^w.lowOrder^f.lowOrder^l.lowOrder));for(i=0;i<5;i+=1)g[i]=P(c[(i+4)%5],O(c[(i+1)%5],1));for(i=0;i<5;i+=1)for(a=0;a<5;a+=1)r[i][a]=P(r[i][a],g[i]);for(i=0;i<5;i+=1)for(a=0;a<5;a+=1)s[a][(2*i+3*a)%5]=O(r[i][a],t[i][a]);for(i=0;i<5;i+=1)for(a=0;a<5;a+=1)r[i][a]=P(s[i][a],new h(~s[(i+1)%5][a].highOrder&s[(i+2)%5][a].highOrder,~s[(i+1)%5][a].lowOrder&s[(i+2)%5][a].lowOrder));r[0][0]=P(r[0][0],o[n])}return r}0!=(6&a)&&(r=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],0!=(4&a)&&(n=[new h(r[0],3609767458),new h(r[1],602891725),new h(r[2],3964484399),new h(r[3],2173295548),new h(r[4],4081628472),new h(r[5],3053834265),new h(r[6],2937671579),new h(r[7],3664609560),new h(r[8],2734883394),new h(r[9],1164996542),new h(r[10],1323610764),new h(r[11],3590304994),new h(r[12],4068182383),new h(r[13],991336113),new h(r[14],633803317),new h(r[15],3479774868),new h(r[16],2666613458),new h(r[17],944711139),new h(r[18],2341262773),new h(r[19],2007800933),new h(r[20],1495990901),new h(r[21],1856431235),new h(r[22],3175218132),new h(r[23],2198950837),new h(r[24],3999719339),new h(r[25],766784016),new h(r[26],2566594879),new h(r[27],3203337956),new h(r[28],1034457026),new h(r[29],2466948901),new h(r[30],3758326383),new h(r[31],168717936),new h(r[32],1188179964),new h(r[33],1546045734),new h(r[34],1522805485),new h(r[35],2643833823),new h(r[36],2343527390),new h(r[37],1014477480),new h(r[38],1206759142),new h(r[39],344077627),new h(r[40],1290863460),new h(r[41],3158454273),new h(r[42],3505952657),new h(r[43],106217008),new h(r[44],3606008344),new h(r[45],1432725776),new h(r[46],1467031594),new h(r[47],851169720),new h(r[48],3100823752),new h(r[49],1363258195),new h(r[50],3750685593),new h(r[51],3785050280),new h(r[52],3318307427),new h(r[53],3812723403),new h(r[54],2003034995),new h(r[55],3602036899),new h(r[56],1575990012),new h(r[57],1125592928),new h(r[58],2716904306),new h(r[59],442776044),new h(r[60],593698344),new h(r[61],3733110249),new h(r[62],2999351573),new h(r[63],3815920427),new h(3391569614,3928383900),new h(3515267271,566280711),new h(3940187606,3454069534),new h(4118630271,4000239992),new h(116418474,1914138554),new h(174292421,2731055270),new h(289380356,3203993006),new h(460393269,320620315),new h(685471733,587496836),new h(852142971,1086792851),new h(1017036298,365543100),new h(1126000580,2618297676),new h(1288033470,3409855158),new h(1501505948,4234509866),new h(1607167915,987167468),new h(1816402316,1246189591)])),0!=(8&a)&&(o=[new h(0,1),new h(0,32898),new h(2147483648,32906),new h(2147483648,2147516416),new h(0,32907),new h(0,2147483649),new h(2147483648,2147516545),new h(2147483648,32777),new h(0,138),new h(0,136),new h(0,2147516425),new h(0,2147483658),new h(0,2147516555),new h(2147483648,139),new h(2147483648,32905),new h(2147483648,32771),new h(2147483648,32770),new h(2147483648,128),new h(0,32778),new h(2147483648,2147483658),new h(2147483648,2147516545),new h(2147483648,32896),new h(0,2147483649),new h(2147483648,2147516424)],t=[[0,36,3,41,18],[1,44,10,45,2],[62,6,43,15,61],[28,55,25,21,56],[27,20,39,8,14]]);e.oba.jsSHA=function(e,r,n){var t,o,h,c,O,g,p,S,v,A,_=0,H=[],b=0,E=e,m=!1,y=[],U=[],k=!1,R=!1,T=-1;if(t=(A=n||{}).encoding||"UTF8",(v=A.numRounds||1)!==parseInt(v,10)||1>v)throw new Error("numRounds must a integer >= 1");if("SHA-1"===E&&0!=(1&a))O=512,g=M,p=K,c=160,S=function(e){return e.slice()};else if(0===E.lastIndexOf("SHA-",0)&&0!=(6&a))if(g=function(e,r){return Y(e,r,E)},p=function(e,r,n,t,o){return function(e,r,n,t,o,h){var s,u,d,w,f,l;if("SHA-224"!==o&&"SHA-256"!==o||0==(2&a)){if("SHA-384"!==o&&"SHA-512"!==o||0==(4&a))throw new Error("Unexpected error in SHA-2 implementation");d=31+(r+129>>>10<<5),f=32}else d=15+(r+65>>>9<<4),f=16;for(;e.length<=d;)e.push(0);for(e[r>>>5]|=128<<24-r%32,l=r+n,e[d]=4294967295&l,e[d-1]=l/i|0,u=e.length,s=0;s<u;s+=f)t=Y(e.slice(s,s+f),t,o);if("SHA-224"===o&&0!=(2&a))w=[t[0],t[1],t[2],t[3],t[4],t[5],t[6]];else if("SHA-256"===o&&0!=(2&a))w=t;else if("SHA-384"===o&&0!=(4&a))w=[t[0].highOrder,t[0].lowOrder,t[1].highOrder,t[1].lowOrder,t[2].highOrder,t[2].lowOrder,t[3].highOrder,t[3].lowOrder,t[4].highOrder,t[4].lowOrder,t[5].highOrder,t[5].lowOrder];else{if("SHA-512"!==o||0==(4&a))throw new Error("Unexpected error in SHA-2 implementation");w=[t[0].highOrder,t[0].lowOrder,t[1].highOrder,t[1].lowOrder,t[2].highOrder,t[2].lowOrder,t[3].highOrder,t[3].lowOrder,t[4].highOrder,t[4].lowOrder,t[5].highOrder,t[5].lowOrder,t[6].highOrder,t[6].lowOrder,t[7].highOrder,t[7].lowOrder]}return w}(e,r,n,t,E)},S=function(e){return e.slice()},"SHA-224"===E&&0!=(2&a))O=512,c=224;else if("SHA-256"===E&&0!=(2&a))O=512,c=256;else if("SHA-384"===E&&0!=(4&a))O=1024,c=384;else{if("SHA-512"!==E||0==(4&a))throw new Error("Chosen SHA variant is not supported");O=1024,c=512}else{if(0!==E.lastIndexOf("SHA3-",0)&&0!==E.lastIndexOf("SHAKE",0)||0==(8&a))throw new Error("Chosen SHA variant is not supported");var x=6;if(g=q,S=function(e){return function(e){var r,n=[];for(r=0;r<5;r+=1)n[r]=e[r].slice();return n}(e)},T=1,"SHA3-224"===E)O=1152,c=224;else if("SHA3-256"===E)O=1088,c=256;else if("SHA3-384"===E)O=832,c=384;else if("SHA3-512"===E)O=576,c=512;else if("SHAKE128"===E)O=1344,c=-1,x=31,R=!0;else{if("SHAKE256"!==E)throw new Error("Chosen SHA variant is not supported");O=1088,c=-1,x=31,R=!0}p=function(e,r,n,t,o){return function(e,r,n,t,o,i,a){var h,s,u=[],d=o>>>5,w=0,f=r>>>5;for(h=0;h<f&&r>=o;h+=d)t=q(e.slice(h,h+d),t),r-=o;for(e=e.slice(h),r%=o;e.length<d;)e.push(0);for(e[(h=r>>>3)>>2]^=i<<h%4*8,e[d-1]^=2147483648,t=q(e,t);32*u.length<a&&(s=t[w%5][w/5|0],u.push(s.lowOrder),!(32*u.length>=a));)u.push(s.highOrder),0==64*(w+=1)%o&&q(null,t);return u}(e,r,0,t,O,x,o)}}h=l(r,t,T),o=X(E),this.setHMACKey=function(e,r,n){var i,h,s,u,d,w;if(!0===m)throw new Error("HMAC key already set");if(!0===k)throw new Error("Cannot set HMAC key after calling update");if(!0===R&&0!=(8&a))throw new Error("SHAKE is not supported for HMAC");if(h=(i=l(r,t=(n||{}).encoding||"UTF8",T)(e)).binLen,s=i.value,w=(u=O>>>3)/4-1,u<h/8){for(s=p(s,h,0,X(E),c);s.length<=w;)s.push(0);s[w]&=4294967040}else if(u>h/8){for(;s.length<=w;)s.push(0);s[w]&=4294967040}for(d=0;d<=w;d+=1)y[d]=909522486^s[d],U[d]=1549556828^s[d];o=g(y,o),_=O,m=!0},this.update=function(e){var r,n,t,i,a,s=0,u=O>>>5;for(n=(r=h(e,H,b)).binLen,i=r.value,t=n>>>5,a=0;a<t;a+=u)s+O<=n&&(o=g(i.slice(a,a+u),o),s+=O);_+=s,H=i.slice(s>>>5),b=n%O,k=!0},this.getHash=function(e,r){var n,t,i,h;if(!0===m)throw new Error("Cannot call getHash after setting HMAC key");if(i=f(r),!0===R&&0!=(8&a)){if(-1===i.shakeLen)throw new Error("shakeLen must be specified in options");c=i.shakeLen}switch(e){case"HEX":n=function(e){return s(e,c,T,i)};break;case"B64":n=function(e){return u(e,c,T,i)};break;case"BYTES":n=function(e){return d(e,c,T)};break;case"ARRAYBUFFER":try{t=new ArrayBuffer(0)}catch(e){throw new Error("ARRAYBUFFER not supported by this environment")}n=function(e){return w(e,c,T)};break;default:throw new Error("format must be HEX, B64, BYTES, or ARRAYBUFFER")}for(h=p(H.slice(),b,_,S(o),c),t=1;t<v;t+=1)0!=(8&a)&&!0===R&&c%32!=0&&(h[h.length-1]&=16777215>>>24-c%32),h=p(h,c,0,X(E),c);return n(h)},this.getHMAC=function(e,r){var n,t,i,a;if(!1===m)throw new Error("Cannot call getHMAC without first setting HMAC key");switch(i=f(r),e){case"HEX":n=function(e){return s(e,c,T,i)};break;case"B64":n=function(e){return u(e,c,T,i)};break;case"BYTES":n=function(e){return d(e,c,T)};break;case"ARRAYBUFFER":try{n=new ArrayBuffer(0)}catch(e){throw new Error("ARRAYBUFFER not supported by this environment")}n=function(e){return w(e,c,T)};break;default:throw new Error("outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER")}return t=p(H.slice(),b,_,S(o),c),a=g(U,X(E)),n(a=p(t,c,O,a,c))}}}(r),i=function(){var e=function(){};return e.prototype.isUrlExternal=function(e){return new RegExp("^(?:[a-z]+:)?//","i").test(e)},e.prototype.createXHRObject=function(e,r){var n=new XMLHttpRequest,t=this.isUrlExternal(e);return"withCredentials"in n||!t?n.open(r,e,!0):"undefined"!=typeof XDomainRequest?(n=new XDomainRequest).open(r,e):n=null,n},e.prototype.setRequestHeaders=function(e,r){for(var n in e)e.hasOwnProperty(n)&&r.setRequestHeader(n,e[n])},e.prototype.request=function(e){var r=e.url,n=e.callback,t=e.errorCallback?e.errorCallback:function(){},o=e.params?e.params:null,i=this.createXHRObject(r,e.method);function a(){var e;4!==i.readyState||200!==i.status&&201!==i.status?"undefined"!=typeof XDomainRequest&&i instanceof XDomainRequest?-1!==i.contentType.indexOf("application/json")?n(JSON.parse(i.responseText)):n(i.responseText):4===i.readyState&&t(i.responseText):(e=i.getResponseHeader("Content-Type"))&&-1!==e.indexOf("application/json")?n(JSON.parse(i.responseText)):n(i.responseText)}void 0===i.onload?i.onreadystatechange=a:i.onload=a,i.onerror=function(){t()},this.setRequestHeaders(e.headers,i),o&&(o=this.dataSerializer(e,i)),i.send(o)},e.prototype.dataSerializer=function(e,r){return e.dataSerializer?e.dataSerializer(e.params):(r.setRequestHeader("Content-Type","application/json;charset=utf-8"),JSON.stringify(e.params))},e.prototype.get=function(e){e.method="GET",this.request(e)},e.prototype.post=function(e){e.method="POST",this.request(e)},e.prototype.put=function(e){e.method="PUT",this.request(e)},e.prototype.delete=function(e){e.method="DELETE",this.request(e)},e},(o=r).oba.ajax=i(),o.oba.ajax=i(),function(e){function r(e,r){this._document=e,this._expireSeconds=r||600,this._cookies}r.prototype={get:function(e){return this._loadCookies(),this._cookies[e]},getJSON:function(e){var r,n;if(void 0!==(r=this.get(e)))try{n=JSON.parse(decodeURIComponent(r))}catch(e){console&&"function"==typeof console.log&&console.error(e)}return n},_loadCookies:function(){if(void 0===this._cookies){var e,r,n,t={};for(e=(n=this._document.cookie.split("; ")).length-1;e>=0;e--)t[(r=n[e].split("="))[0]]=r[1];this._cookies=t,this._setCleanCache()}},_setCleanCache:function(){var e=this;setTimeout(function(){e._cookies=void 0},1e3*this._expireSeconds)}};var n=function(e){this.sjSSH=e};function t(e,r,n){this.__userProfile=e,this.__localStorage=r,this.__expireSeconds=n}function o(e,r,n,t){this._ajax=e,this._documentCookie=r,this._hashGenerator=n,this._edgeApiDomain=t,this._salt="fdPTcwu90ilcfwJtJsAK"}n.prototype={random:function(){return Math.random().toString(36).slice(2)+Math.random().toString(36).slice(2)+Math.random().toString(36).slice(2)+Math.random().toString(36).slice(2)},ssh1:function(e){var r=new this.sjSSH("SHA-1","TEXT");return r.update(e),r.getHash("HEX")}},t.prototype={__storageKey:"pl_allegro_user_profile",get:function(e){var r=this.__userProfile._getUser(),n=this.__getFromStorage();if(!this.__validate(n,r)){var t=this;return this.__userProfile.get(function(r){t.__localStorage.setItem(t.__storageKey,JSON.stringify({profile:r,lastUpdate:new Date})),e(r)})}e(n.profile)},_getUserId:function(){return this.__userProfile._getUserId()},__getFromStorage:function(){var e=this.__localStorage.getItem(this.__storageKey),r=null;try{(r=JSON.parse(e)||{}).lastUpdate=new Date(r.lastUpdate)}catch(e){console&&"function"==typeof console.log&&console.error(e),r=null}return r},__validate:function(e,r){var n=new Date;return n.setSeconds(n.getSeconds()-this.__expireSeconds),e&&r&&e.profile&&e.lastUpdate&&e.profile.hashedId&&e.profile.hashedId===r.hashedId&&e.lastUpdate>n}},o.UNKNOWN_USER_HASH="__unknown__",o.prototype={UNKNOWN_USER_HASH:o.UNKNOWN_USER_HASH,get:function(e){var r=this._getUser(),n=function(n){r.profile=n||void 0,e(r)};this._documentCookie.get("_cmuid")||this._documentCookie.get("ws3")?this._ajax.get({url:this._userTraitsUri(),callback:n,errorCallback:function(){n(null)}}):setTimeout(function(){n(null)},0)},_getUser:function(){var e=this._documentCookie.getJSON("userIdentity");return e?e.id?e={hashedId:this._hashGenerator.ssh1(this._salt+e.id)}:e.hashedId=this.UNKNOWN_USER_HASH:e={hashedId:this.UNKNOWN_USER_HASH},e},_userTraitsUri:function(){var e,r,n;return e=this._hashGenerator.random(),r=this._documentCookie.get("_cmuid")||"",n=this._documentCookie.get("ws3")||"","//"+this._edgeApiDomain+"/usertraits/users/traits/"+e+"/"+r+","+n}};var i=new r(e.document),a=new n(e.oba.jsSHA),h=new o(new e.oba.ajax,i,a,document.location.host);if("undefined"!=typeof Storage)try{h=new t(h,e.localStorage,3600)}catch(e){}e.pl_allegro_user_profile={get:function(e){return h.get(e)}}}(r)}})})}(0,"undefined"!=typeof window?window:global);