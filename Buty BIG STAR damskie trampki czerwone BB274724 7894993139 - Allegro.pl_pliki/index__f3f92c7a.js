!function(t,e){"use strict";!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else{var n=e();for(var i in n)("object"==typeof exports?exports:t)[i]=n[i]}}(e,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="https://assets.allegrostatic.com/opbox-carousel/",n(n.s="oid+")}({BewK:function(t,n){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof e&&(i=e)}t.exports=i},CLjk:function(t,e,n){(function(e){var n=NaN,i="[object Symbol]",o=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,s=parseInt,c="object"==typeof e&&e&&e.Object===Object&&e,u="object"==typeof self&&self&&self.Object===Object&&self,f=c||u||Function("return this")(),h=Object.prototype.toString,d=Math.max,v=Math.min,b=function(){return f.Date.now()};function m(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function p(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&h.call(t)==i}(t))return n;if(m(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=m(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(o,"");var c=a.test(t);return c||l.test(t)?s(t.slice(2),c?2:8):r.test(t)?n:+t}t.exports=function(t,e,n){var i,o,r,a,l,s,c=0,u=!1,f=!1,h=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function y(e){var n=i,r=o;return i=o=void 0,c=e,a=t.apply(r,n)}function w(t){var n=t-s;return void 0===s||n>=e||n<0||f&&t-c>=r}function g(){var t=b();if(w(t))return x(t);l=setTimeout(g,function(t){var n=e-(t-s);return f?v(n,r-(t-c)):n}(t))}function x(t){return l=void 0,h&&i?y(t):(i=o=void 0,a)}function E(){var t=b(),n=w(t);if(i=arguments,o=this,s=t,n){if(void 0===l)return function(t){return c=t,l=setTimeout(g,e),u?y(t):a}(s);if(f)return l=setTimeout(g,e),y(s)}return void 0===l&&(l=setTimeout(g,e)),a}return e=p(e)||0,m(n)&&(u=!!n.leading,r=(f="maxWait"in n)?d(p(n.maxWait)||0,e):r,h="trailing"in n?!!n.trailing:h),E.cancel=function(){void 0!==l&&clearTimeout(l),c=0,i=s=o=l=void 0},E.flush=function(){return void 0===l?a:x(b())},E}}).call(this,n("BewK"))},"oid+":function(t,n,i){i.r(n);var o='[data-role="carousel-container"]',r=".".concat("carousel-item"),a='[data-role="carousel-prev-button"]',l='[data-role="carousel-next-button"]',s=800,c="next",u=15,f=i("CLjk"),h=i.n(f),d=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,i=arguments.length>2?arguments[2]:void 0;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.element=e,this.duration=n,this.callback=i,this.animation=null}var n;return(n=[{key:"scrollTo",value:function(t){var n=this.element.scrollLeft,i={duration:this.duration,onFinish:this.callback};this.animation&&this.animation.stop(),this.animation=e.opbox.tween(n,t,function(t){return function(e){t.scrollLeft=e}}(this.element),i)}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,n),t}();function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b(t){return t.filter(function(t){return null!==t.offsetParent}).map(function(t){var e=t.node;return{node:e,left:Math.max(e.offsetLeft,0),right:e.offsetLeft+e.clientWidth}}).sort(function(t,e){return t.left-e.left})}function m(t,e){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:c)===c?t.find(function(t){return t.left>e}):t.reverse().find(function(t){return t.left<e})}function p(t,e,n){var i=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).requireFullVisibility,o=e-u,r=e+n+u,a=void 0===i||i?function(t,e){var n=t.left,i=t.right;return n>o&&i<r?e:-1}:function(t,e){var n=t.left;return t.right>o&&n<r?e:-1};return t.map(a).filter(function(t){return-1!==t})}var y=function(){function t(e){var n=this;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),v(this,"itemContainer",null),v(this,"items",[]),v(this,"loadItemList",function(t){var e;n.items=(e=t,function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(e)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()).map(function(t){return{node:t}})}),this.itemContainer=e}var e;return(e=[{key:"getNewScrollPositionNormalized",value:function(t,e){var n=this.itemContainer.clientWidth,i=this.itemContainer.scrollWidth-n,o=this.getNewScrollPosition(t,e);return Math.max(Math.min(o,i),0)}},{key:"getNewScrollPosition",value:function(t,e){var n=e||this.itemContainer.scrollLeft,i=this.itemContainer.clientWidth,o=b(this.items),r=p(o,n,i);if(r.length){var a=function(t,e,n,i){var o=function(t,e,n){return t[n===c?function(t,e){return Math.min(e[e.length-1]+1,t.length-1)}(t,e):function(t){return Math.max(t[0]-1,0)}(e)]}(e,n,t);return t===c?o.left:m(e,o.right-i).left}(t,o,r,i),l=n+i*(t===c?1:-1)-a;if(Math.abs(l)<=i)return a}var s=m(o,n,t);if(s){var f=s.left,h=f-n;if(Math.abs(h)<i)return f}return t===c?n+i-2*u:n-i+2*u}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();function w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g={LEFT:"prev",RIGHT:"next"},x=function(){function t(e,n){var i=this;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),w(this,"onTouchStart",function(t){i.xTouchDown=t.touches[0].clientX}),w(this,"onTouchMove",function(t){if(i.xTouchDown){var e=t.touches[0].clientX,n=i.xTouchDown-e;i.onSwipe(n>0?g.RIGHT:g.LEFT),i.xTouchDown=null}}),this.container=e,this.onSwipe=n,this.attachEvents()}var e;return(e=[{key:"attachEvents",value:function(){this.container.addEventListener("touchstart",this.onTouchStart,!1),this.container.addEventListener("touchmove",this.onTouchMove,!1)}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();function E(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function S(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var k=80,j=200,T=function(){function t(e){var n=this,i=e.carousel,r=e.scrollbarWidth,c=e.boxName,u=e.window;!function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),S(this,"elements",{}),S(this,"btnState",[]),S(this,"touchInterface",!1),S(this,"viewportWidth",0),S(this,"onSwipe",function(t){n.window.opbox.analytics.sendBoxInteractionEvent({contextNode:n.scrollContainer,label:"swipe",value:t})}),S(this,"onArrowClick",function(t){return function(e){e&&e.preventDefault();var i=n.itemVisibility.getNewScrollPositionNormalized(t,n.elements.container.scrollLeft);n.scrollTo(i)}}),S(this,"onCarouselAppearance",function(){n.checkVisibleItems()}),S(this,"onPageScroll",function(){n.checkVisibleItems()}),S(this,"onHorizontalScroll",function(){n.refreshButtonVisibility(),n.checkVisibleItems()}),S(this,"onHorizontalScrollEnd",h()(this.onHorizontalScroll,k)),S(this,"onResize",function(){n.window.innerWidth===n.viewportWidth||(n.viewportWidth=n.window.innerWidth,n.onHorizontalScrollEnd())}),S(this,"onResizeEnd",h()(this.onResize,j)),this.window=u,this.scrollContainer=i.querySelector(o),this.elements={container:this.scrollContainer,prevButton:i.querySelector(a),nextButton:i.querySelector(l)},this.itemVisibility=new y(this.scrollContainer),this.scrollable=new d(this.elements.container,s),this.scrollOnData=i.hasAttribute("data-scroll-ondata"),this.itemElements.length?(this.itemVisibility.loadItemList(this.itemElements),this.attachEvents(),this.onHorizontalScroll(),this.hideScrollbar(r),this.onData(c)):t.collapseCarousel(i),new MutationObserver(function(t){t.filter(function(t){return"childList"===t.type}).length>0&&(n.itemVisibility.loadItemList(n.itemElements),n.refreshButtonVisibility())}).observe(this.scrollContainer,{attributes:!1,childList:!0,subtree:!0}),new x(this.scrollContainer,this.onSwipe)}var e,n,i;return e=t,i=[{key:"collapseCarousel",value:function(t){t.classList.add("_lsy4e")}}],(n=[{key:"attachEvents",value:function(){var t=this.elements,e=t.container,n=t.prevButton,i=t.nextButton;this.window.addEventListener("resize",this.onResizeEnd),this.window.addEventListener("scroll",this.onPageScroll),this.window.addEventListener("inViewport",this.onCarouselAppearance),e.addEventListener("scroll",this.onHorizontalScrollEnd),n.addEventListener("click",this.onArrowClick("prev")),i.addEventListener("click",this.onArrowClick(c))}},{key:"scrollTo",value:function(t){this.scrollable.scrollTo(t),this.refreshButtonVisibility(t)}},{key:"checkVisibleItems",value:function(){var t=this.elements.container.closest("[data-box-name]"),e=this.window.opbox.boxViewsMarker;if(e.isBoxInViewport(t)){var n=b(this.itemVisibility.items);p(n,this.elements.container.scrollLeft,this.elements.container.clientWidth,{requireFullVisibility:!1}).forEach(function(t){var i=n[t].node;e.markBoxAsVisible(i.closest("[data-item]")),e.markBoxAsVisible(i.closest("[data-box-name]"))})}}},{key:"refreshButtonVisibility",value:function(t){var e=!this.touchInterface&&this.isNextButtonEnabled(t),n=!this.touchInterface&&this.isPrevButtonEnabled(t);this.setButtonVisibility("prev",this.elements.prevButton,n),this.setButtonVisibility("next",this.elements.nextButton,e)}},{key:"setButtonVisibility",value:function(t,e,n){if(Boolean(this.btnState[t])!==n){var i=n?"remove":"add";this.btnState[t]=n,e.classList[i]("_773dc_2teYD")}}},{key:"isNextButtonEnabled",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.elements.container,n=e.scrollWidth,i=e.clientWidth,o=e.scrollLeft;return(null!==t?t:o)<=(i>0?n-i-20:0)}},{key:"isPrevButtonEnabled",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return(null!==t?t:this.elements.container.scrollLeft)>=20}},{key:"hideScrollbar",value:function(t){this.elements.container.style.marginBottom="-".concat(t,"px")}},{key:"onData",value:function(t){var e=this;this.scrollOnData&&this.window.opbox.onData(t,function(){e.scrollTo(0)},function(){})}},{key:"itemElements",get:function(){return this.scrollContainer.querySelectorAll(r)}}])&&E(e.prototype,n),i&&E(e,i),t}();e.opbox.component.init({prototypeName:"allegro.carousel"},function(t){var n,i,o=t.domNodes,r=function(t){return t.querySelector('[data-role="carousel"]')},a=o.find(function(t){return r(t).offsetHeight>0}),l=a&&a.children&&a.children[0]?(i=(n=a.children[0])&&n.children&&n.children[0]?n.offsetHeight-n.children[0].offsetHeight:24,Math.abs(i)):24;o.forEach(function(t){return new T({window:e,carousel:r(t),scrollBarWidth:l,boxName:(n=t,n.getAttribute("data-box-name"))});var n})})}})})}(0,"undefined"!=typeof window?window:global);